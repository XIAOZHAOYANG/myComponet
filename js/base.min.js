!function(t,a){t.getQueryString=function(t){var a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(a);return null!=e?unescape(e[2]):null},t.checkAuth=function(t){var a=null;return $.ajax({url:"/checkAuth",data:{url:t},type:"POST",async:!1,dataType:"json",success:function(t){0==t.code?a=t.data:(App.toast.show(t.msg,"error"),a={})}}),a}}(window.App=window.App||{}),$("body").on("click",".btn",function(){var t=$(this);t.attr("btn-animation",!0),setTimeout(function(){t.removeAttr("btn-animation")},2e3)}),function(t,a){t.confirm=function(t){var a={title:"温馨提示",text:"确定删除？",type:"success",callback:null,btnText:"确定"},e=$.extend(a,t),n=$('<div class="confirm-mode">                   <div class="confirm-content">                        <div class="confirm-header"><i class="confirm-type st-confirm-success"></i> '+e.title+'</div>       <div class="confirm-body">                               <p class="ft26">'+e.text+'</p>           </div>                                               <div class="confirm-footer ftn14 pt10">                        <button class="btn btn-default confirm-cancel">取消</button>           <button class="btn btn-primary confirm-define">'+e.btnText+"</button>       </div>                                           </div>                                            </div>"),i=n.find(".confirm-type");switch(e.type){case"success":i.attr("class","confirm-type st-confirm-success");break;case"warning":i.attr("class","confirm-type st-confirm-warning");break;case"error":i.attr("class","confirm-type st-confirm-error")}n.find(".confirm-define").click(function(t){a.callback&&"function"==typeof a.callback&&a.callback(t),n.remove()}),$(document.body).on("click",".confirm-cancel",function(t){n.remove()}),$(document.body).append(n)}}(window.App=window.App||{}),$(".st-file-updata").on("change",".st-file-updata-content input",function(t){var a=$(this).parent(),e="";try{e=$(this)[0].files[0].name}catch(t){e=$(this).val()}if(!/\w(\.jpeg|\.png|\.jpg)/i.test(e))return void App.toast.show("仅支持JPG、PNG、JPEG的图片格式","error",2e3);var n=$("<li><span>"+e+"</span><i></i></li>");n.append($(this));var i=a.attr("data-accept");i&&i.length>0?a.append("<input type='file' accept='"+i+"' />"):a.append("<input type='file'/>"),"true"==a.attr("data-multiple")?a.next().append(n):a.next().html(n)}),$(".st-file-updata").on("click",".st-file-content i",function(t){$(this).parent().remove()}),function(t){var a={init:function(t,e){return function(){a.fillHtml(t,e),a.bindEvent(t,e)}()},fillHtml:function(a,e){return function(){e.totalPage<=0&&(e.totalPage=1);var n="";1==e.currPage?n+="<li class='ali'><span class='page_prev page_disabled'></span></li>":n+="<li class='ali'><span data-val='"+parseInt(e.currPage-1)+"' class='page_prev'></span></li>",1!=e.currPage&&e.currPage>=4&&4!=e.totalPage&&(n+="<li class='ali'><a href='javascript:void(0);' class='geraltTb_pager' data-go='' >1</a></li>"),e.currPage-2>2&&e.currPage<=e.totalPage&&e.totalPage>5&&(n+="<li class='ali'><a href='javascript:void(0);' class='geraltTb_' data-go='' >...</a></li>");var i=e.currPage-2,s=e.currPage+2;for((i>1&&e.currPage<4||1==e.currPage)&&s++,e.currPage>e.totalPage-4&&e.currPage>=e.totalPage&&i--;i<=s;i++)i<=e.totalPage&&i>=1&&(i==e.currPage?n+="<li class='ali'><a href='javascript:void(0);' class='geraltTb_pager active' data-go='' >"+i+"</a></li>":n+="<li class='ali'><a href='javascript:void(0);' class='geraltTb_pager' data-go='' >"+i+"</a></li>");e.currPage+2<e.totalPage-1&&e.currPage>=1&&e.totalPage>5&&(n+="<li class='ali'><span class='geraltTb_omit' data-go='' >...</span></li>"),e.currPage!=e.totalPage&&e.currPage<e.totalPage-2&&4!=e.totalPage&&(n+="<li class='ali'><a href='javascript:void(0);' class='geraltTb_pager' data-go='' >"+e.totalPage+"</a></li>"),e.currPage==e.totalPage?n+="<li class='ali'><span class='page_next page_disabled'></span></li>":n+="<li class='ali'><span data-val='"+parseInt(e.currPage+1)+"' class='page_next'></span></li>",t(a).find(".pagination").html(n);var r=t("<div class='pageSizeSelect'><span>每页</span><select><option value='10' selected='selected'>10</option><option value='30'>30</option><option value='50'>50</option></select><span>条</span></div>");r.find("option[value='"+e.currPageSize+"']").attr("selected",!0),t(a).find(".pagination").siblings(".pageSizeSelect").remove(),t(a).find(".pagination").before(r)}()},bindEvent:function(a,e){return function(){a.on("click","a.geraltTb_pager",function(a){var n=parseInt(t(this).text()),i=t(this).parents(".pagination").prev().find("select").val();"function"==typeof e.backFn&&e.backFn(n,i)}),a.on("click","span.page_prev:not(.page_disabled)",function(a){var n=parseInt(t(this).attr("data-val")),i=t(this).parents(".pagination").prev().find("select").val();"function"==typeof e.backFn&&e.backFn(n,i)}),a.on("click","span.page_next:not(.page_disabled)",function(a){var n=parseInt(t(this).attr("data-val")),i=t(this).parents(".pagination").prev().find("select").val();"function"==typeof e.backFn&&e.backFn(n,i)}),a.on("change","select",function(a){var n=t(this).val();"function"==typeof e.backFn&&e.backFn(1,n)})}()},updataPage:function(t,e){a.fillHtml(t,{currPage:e.currPage,totalPage:e.totalPage,currPageSize:e.currPageSize})}};t.fn.createPage=function(t){var e=this;return a.init(this,t),function(t){return a.updataPage(e,t)}}}(jQuery),function(t,a){t.toast={hideTimeOut:null,show:function(t,a,e){if(a=a||"success",this.hideTimeOut&&(clearTimeout(this.hideTimeOut),this.hideTimeOut=null),!t)return void console.error("text 不能为空!");var n=$("#stToastId");n.length<=0&&($("body").append($("<div id='stToastId' class='st-toast'><span class='st-toast-type'><i></i></span><span class='st-toast-text'>"+t+"</span></div>")),n=$("#stToastId"));var i=$("#stToastId .st-toast-type");switch($("#stToastId .st-toast-text").html(t||""),a){case"success":i.attr("class","st-toast-type st-toast-success");break;case"warning":i.attr("class","st-toast-type st-toast-warning");break;case"error":i.attr("class","st-toast-type st-toast-error");break;default:i.attr("class","st-toast-type")}n.css("margin-left","-"+(n.width()/2+10)+"px"),n.fadeIn();var s=this;this.hideTimeOut=setTimeout(function(){n.fadeOut(),s.hideTimeOut=null},e||2e3)},hide:function(){this.hideTimeOut&&(clearTimeout(this.hideTimeOut),this.hideTimeOut=null);var t=document.getElementById("stToastId");t&&(t.style.display="none")}}}(window.App=window.App||{}),function(t,a){t.tools={dateConvert:function(t){if(0==t||null==t||""==t)return"";var a=new Date(1e3*t),e=a.getFullYear(),n=a.getMonth()+1;n=n<10?"0"+n:n;var i=a.getDate();return i=i<10?"0"+i:i,e+"-"+n+"-"+i},dateTimeConvert:function(t){if(0==t||null==t||""==t)return"";var a=new Date(1e3*t),e=a.getFullYear(),n=a.getMonth()+1;n=n<10?"0"+n:n;var i=a.getDate();i=i<10?"0"+i:i;var s=a.getHours();s=s<10?"0"+s:s;var r=a.getMinutes(),c=a.getSeconds();return r=r<10?"0"+r:r,c=c<10?"0"+c:c,e+"-"+n+"-"+i+" "+s+":"+r+":"+c}}}(window.App=window.App||{}),function(t,a){t.verify={checkUrl:function(t){return!!/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/.test(t)},isCardNo:function(t){return!!/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)},letter:function(t){return!!/^[A-Za-z]+$/.test(t)},percentage:function(t){return!!/^(100|[1-9]?\d(\.\d?\d?)?)$/.test(t)},number:function(t){return!!/^[0-9]+$/.test(t)},money:function(t){return!!/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/.test(t)},phone:function(t){return!!/^[1][1-9]{1}[0-9]{9}$/.test(t)},pwd:function(t){return!!/^(?=.*[A-Z])(?=.*\d)[^]{8,20}$/.test(t)},pwdCase:function(t){return!!/^(?=.*[a-zA-Z])(?=.*\d)[^]{8,20}$/.test(t)},semiangle:function(t){return!!/[\uFF00-\uFFEF]/.test(t)},noCharacter:function(t){return!!/^[A-Za-z0-9\u4e00-\u9fa5]+$/.test(t)},lowerCaseNumber:function(t){return!!/^[a-z\d]+$/.test(t)},isNull:function(t){return null==t.trim()||""==t.trim()}}}(window.App=window.App||{});