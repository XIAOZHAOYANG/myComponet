<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		
		
		<script>
			//验证车牌号
			function validatePlate(value){
				var pattern = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/.test(value);
			//	var pattern2 = /^[P0-9A-HJ-NR-Y]{17}$/.test(value);//车架号
				var value = value.substring(2);
				var pattern3 = /[A-Za-z]+/.exec(value);
			//	if((pattern && (!pattern3 || pattern3.toString().length < 5)) || pattern2){//车牌号和车架号
				if((pattern && (!pattern3 || pattern3.toString().length < 5))){
					return true;
				}
				return false;
			}
			//验证姓名是否正确
			function validateName(value){
				var pattern = /^[\u4e00-\u9fa5]{1,}$/.test(value);
				return pattern;
			}
			//验证手机号码
			function validateTel(value){
				var pattern = /^1[\d]\d{9}$/.test(value);
				return pattern;
			}
			//验证身份证号码
			function validateID (idcard){
			    var area = {11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}
			    var idcard,Y,JYM;
			    var S,M;
			    var idcard_array = new Array ();
			    idcard_array = idcard.split ("");
			    //地区检验
			    //身份号码位数及格式检验
			    switch (idcard.length)
			    {
			        case 15:
			            if (area[parseInt (idcard.substr (0, 2))] == null) return false;
			            if ((parseInt (idcard.substr (6, 2)) + 1900) % 4 == 0 || ((parseInt (idcard.substr (6, 2)) + 1900) % 100 == 0 && (parseInt (idcard.substr (6, 2)) + 1900) % 4 == 0 ))
			            {
			                ereg = /^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/;
			                //测试出生日期的合法性
			            } else
			            {
			                ereg = /^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/;
			                //测试出生日期的合法性
			            }
			            if (ereg.test (idcard)) return true;
			            else return false;
			            break;
			        case 18:
			            if (area[parseInt (idcard.substr (0, 2))] == null) return false;
			            //18位身份号码检测
			            //出生日期的合法性检查
			            //闰年月日:((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))
			            //平年月日:((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))
			            if (parseInt (idcard.substr (6, 4)) % 4 == 0 || (parseInt (idcard.substr (6, 4)) % 100 == 0 && parseInt (idcard.substr (6, 4)) % 4 == 0 ))
			            {
			                ereg = /^[1-9][0-9]{5}19|20[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/;
			                //闰年出生日期的合法性正则表达式
			            } else
			            {
			                ereg = /^[1-9][0-9]{5}19|20[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/;
			                //平年出生日期的合法性正则表达式
			            }
			            if (ereg.test (idcard))
			            {//测试出生日期的合法性
			                //计算校验位
			                S = (parseInt (idcard_array[0]) + parseInt (idcard_array[10])) * 7
			                    + (parseInt (idcard_array[1]) + parseInt (idcard_array[11])) * 9
			                    + (parseInt (idcard_array[2]) + parseInt (idcard_array[12])) * 10
			                    + (parseInt (idcard_array[3]) + parseInt (idcard_array[13])) * 5
			                    + (parseInt (idcard_array[4]) + parseInt (idcard_array[14])) * 8
			                    + (parseInt (idcard_array[5]) + parseInt (idcard_array[15])) * 4
			                    + (parseInt (idcard_array[6]) + parseInt (idcard_array[16])) * 2
			                    + parseInt (idcard_array[7]) * 1
			                    + parseInt (idcard_array[8]) * 6
			                    + parseInt (idcard_array[9]) * 3;
			                Y = S % 11;
			                M = "F";
			                JYM = "10X98765432";
			                M = JYM.substr (Y, 1);
			                //判断校验位
			                if (M == idcard_array[17]) return true; //检测ID的校验位
			                else return false;
			            }
			            else return false;
			            break;
			        default:
			            return false;
			            break;
			    }
			}
			   
			//去除空格
			function trims(id,value){
				//车牌号
				var re = /[\s+]/;
				var value = value;
				if(re.test(value)){
					value =value.replace(/[ ]/g,"");
					$(id).val(value);
				}
			}
			//判断表单的值是否为空
			function validateNull(){
				for(var i = 0; i < $("input").size(); i++){
					if($("input").eq(i).val() == ""){
						return false;
					}
				} 
				return true;
			}
			//只允许输入数字并且可以控制数字长度的方法
			function isNum(obj, num) {
			    var $this = obj;
			    if (isNaN($this.val().trim())) {
			        if (!isNaN(parseInt($this.val()))) {
			            $this.val(parseInt($this.val()));
			        } else {
			            $this.val('');
			        }
			    }
			    if ($this.val().length > num) {
			        $this.val(("" + $this.val()).substring(0, num));
			    }
			}
			//身份证只允许输入数字和字母x
			function isID(obj){
				 //禁止输入汉字
			   var $this = obj;
			// 	obj.val().replace(/[a-zA-Z]/g, '');
				if((/[^\w]/ig).test(obj.val())){
					obj.val(obj.val().replace(/[^\w]/ig,''));
				}
			    /*if (isNaN($this.val().trim()) && !(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|[Xx])$/.test($this.val()))) {
			        if (!isNaN(parseInt(obj.val()))) {
			        	var str = obj.val().substring(0,10);
			        	var str1 = obj.val().substring(10);
			  			if(str1.length == 0 || !parseInt(str1)){
							obj.val(""+parseInt(str));
			  			}else{
			  				if(!parseInt(str1)){
			  					obj.val(""+parseInt(str));
			  				}else{
			  					if(obj.val().length >= 18 && /[Xx]/.test(obj.val().substring(17,18))){
			  						obj.val(""+parseInt(str) + parseInt(str1) + obj.val().substring(17,18));
			  					}else{
			  						if(/[Xx]/.test(obj.val().substring(17,18))){
			  							obj.val(""+parseInt(str) + parseInt(str1) + obj.val().substring(17,18));
			  						}else{
			  							obj.val(""+parseInt(str) + parseInt(str1));
			  						}
			  					}
			  				}
			  			}
			        } else {
			            obj.val('')
			        }
			    }*/
			    if ($this.val().length > 18) {
			        obj.val(("" + $this.val()).substring(0, 18));
			    }
			}
			//固定长度
			function fixedLen(obj,num){
				var $this = obj;
			    if ($this.val().length > num) {
			        $this.val(("" + $this.val()).substring(0, num));
			    }
			}
		</script>
	</body>
</html>
